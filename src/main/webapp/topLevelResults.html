<div class="container-fluid">

    <div id="scHeaderContainer">

        <div class="row scHeadingSummary">
            <div class="col-md-12">
                <h1 id="resultModalLabel">{{jsonData.results.finalGrade ? 'C-CDA ' + jsonData.results.ccdaVersion : ''}} Scorecard For:</h1>
                <h2>{{ccdaUploadData.fileName}}</h2>
            </div>
        </div>
        
        <div ng-if="jsonData.results.ccdaVersion === 'R1.1'" class="row">
        	<div class="col-md-12">
        		<div class="alert alert-info scHeaderAlert" role="alert">
        			Disclaimer: The C-CDA R1.1 document scored is based on a legacy version of C-CDA. 
        			Please consider upgrading to the latest C-CDA R2.1 standard.
        		</div>
        	</div>
        </div>

        <div id="topLevelResultsTable">

          <div class="row">
              <div class="col-md-8">
                  <div class="row">
            			<div class="col-md-6 scHeading">
            			   <h2><b>Base Checks</b></h2>
            			</div>
                      <div class="col-md-6 scHeading">
                         <h2><b>Best Practice</b></h2>
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-md-6 scHeading">
      				   <h2 class="scHeaderDescriptionText">
                          <span ng-if="!igResults.totalErrorCount">{{ScorecardConstants.CONFORMANCE_DISPLAY_NAME}}:</span>
                          <a ng-if="igResults.totalErrorCount" href="javascript:void(0)"
                          ng-click="jumpToReferenceInstanceTypeViaId(ReferenceInstanceTypeEnum.IG_CONFORMANCE)"
                          title="Navigate to {{ScorecardConstants.CONFORMANCE_DISPLAY_NAME}}"
                          aria-label="Navigate to {{ScorecardConstants.CONFORMANCE_DISPLAY_NAME}}"
                          analytics-on="click" analytics-event="IG Error Navigation" analytics-category="Top Level Results">
                            <span>{{ScorecardConstants.CONFORMANCE_DISPLAY_NAME}}:</span>
                          </a>
                        </h2>
                      </div>
                      <div class="col-md-6 scHeading">
                        <h4 style="margin-top: 16px">
                         Total Issues:
                         <img ng-if="!jsonData.results.finalGrade"
                           src="images/validationSpinner.gif" alt="scorecard loading indicator" style="width: 30px; margin-top: -5px">
                         <span ng-if="jsonData.results.finalGrade" class="scResult">{{jsonData.results.finalGrade ? jsonData.results.numberOfIssues : ''}}&nbsp;of
                           {{ (jsonData.results.finalGrade ? jsonData.results.totalElementsChecked : '') | number }}&nbsp;checks</span>
                        </h4>
                     </div>
                  </div>
                  <div class="row">
                      <div class="col-md-6 scHeading">
                        <h2 class="scHeaderDescriptionText">
                           <span class="scHeaderDescriptionText">
                              <a ng-if="igResults.totalErrorCount" href="javascript:void(0)"
                              ng-click="jumpToReferenceInstanceTypeViaId(ReferenceInstanceTypeEnum.IG_CONFORMANCE)"
                              title="Navigate to {{ScorecardConstants.CONFORMANCE_DISPLAY_NAME}}"
                              aria-label="Navigate to {{ScorecardConstants.CONFORMANCE_DISPLAY_NAME}}"
                              class="scResult"
                              analytics-on="click" analytics-event="IG Error by number Navigation" analytics-category="Top Level Results">
                              {{jsonData.results.finalGrade ? igResults.totalErrorCount : ''}} out of
                                {{ (jsonData.results.finalGrade ? jsonData.results.totalConformanceErrorChecks : '') | number}} checks
                              </a>
                              <span ng-if="!igResults.totalErrorCount">
                                <img ng-if="!jsonData.results.finalGrade"
                                  src="images/validationSpinner.gif" alt="scorecard loading indicator" style="width: 30px; margin-top: -5px">
                                <span ng-if="jsonData.results.finalGrade" class="scResult">0</span>
                              </span>
                           </span>
                        </h2>
                      </div>
                      <div class="col-md-6 scHeading">
                        <h4 style="margin-top: 20px">
                         Unique Issues:
                         <img ng-if="!jsonData.results.finalGrade"
                           src="images/validationSpinner.gif" alt="scorecard loading indicator" style="width: 30px; margin-top: -5px">
                         <span ng-if="jsonData.results.finalGrade" class="scResult">{{jsonData.results.finalGrade ? jsonData.results.numberOfFailedRules : ''}}&nbsp;of
                           {{ (jsonData.results.finalGrade ? jsonData.results.numberOfRules : '') | number }}&nbsp;rules</span>
                        </h4>                     
                     </div>
                  </div>
                  <div class="row">
                      <div class="col-md-6 scHeading">
                       <h2 class="scHeaderDescriptionText">
                        <span ng-if="!certResults.totalErrorCount">{{ScorecardConstants.CERTIFICATION_DISPLAY_NAME}}:</span>
                        <a ng-if="certResults.totalErrorCount" href="javascript:void(0)"
                        ng-click="jumpToReferenceInstanceTypeViaId(ReferenceInstanceTypeEnum.CERTIFICATION_2015)"
                        title="Navigate to {{ScorecardConstants.CERTIFICATION_DISPLAY_NAME}}"
                        aria-label="Navigate to {{ScorecardConstants.CERTIFICATION_DISPLAY_NAME}}"
                        analytics-on="click" analytics-event="Cert Navigation" analytics-category="Top Level Results">
                          <span>{{ScorecardConstants.CERTIFICATION_DISPLAY_NAME}}:</span>
                        </a>
                       </h2>
                      </div>
                      <div class="col-md-6 scHeading">
                        <h4 style="margin-top: 30px">
                         Grade:
                           <img ng-if="!jsonData.results.finalGrade"
                             src="images/validationSpinner.gif" alt="scorecard loading indicator" style="width: 30px; margin-top: -5px">
                           <!-- letter-based grade -->
                           <span ng-if="jsonData.results.finalGrade" class="scResult">{{jsonData.results.finalGrade}}</span>
                           <!-- numerical grade -->
                           <span ng-if="jsonData.results.finalGrade" class="scResult">&nbsp;{{jsonData.results.finalNumericalGrade + " / 100"}}</span>
                        </h4>                     
                     </div>                                            
                  </div>
                  <div class="row">
                      <div class="col-md-6 scHeading">
                        <h2 class="scHeaderDescriptionText">
                          <span class="scHeaderDescriptionText">
                            <a ng-if="certResults.totalErrorCount" href="javascript:void(0)"
                            ng-click="jumpToReferenceInstanceTypeViaId(ReferenceInstanceTypeEnum.CERTIFICATION_2015)"
                            title="Navigate to {{ScorecardConstants.CERTIFICATION_DISPLAY_NAME}}"
                            aria-label="Navigate to {{ScorecardConstants.CERTIFICATION_DISPLAY_NAME}}"
                            class="scResult"
                            analytics-on="click" analytics-event="Cert by number Navigation" analytics-category="Top Level Results">
                            {{jsonData.results.finalGrade ? certResults.totalErrorCount : ''}} out of
                              {{ (jsonData.results.finalGrade ? jsonData.results.totalCertificationErrorChecks : '') | number }} checks
                            </a>
                            <span ng-if="!certResults.totalErrorCount">
                              <img ng-if="!jsonData.results.finalGrade"
                                src="images/validationSpinner.gif" alt="scorecard loading indicator" style="width: 30px; margin-top: -5px">
                              <span ng-if="jsonData.results.finalGrade" class="scResult">0</span>
                            </span>
                          </span>
                        </h2>
                      </div>
                  </div>
              </div>
              
			  <compare></compare>
			  
          </div>

        </div> <!-- END topLevelResultsTable -->

    </div> <!-- END scHeaderContainer -->

    <summary></summary>

    <!-- Access to Detailed Results -->
    <div id="detailedResults" class="row" ng-show="!uploadDisplay.isLoading && !errorData.getJsonDataError"
      ng-if="jsonData.results.finalNumericalGrade !== 100 || igResults.totalErrorCount || certResults.totalErrorCount">
        <div class="col-md-12">
            <div id="detailedResultsPanelDropdownAnchor" class="panelDropdownButton">
                <h2 id="detailedResultsButton" ng-click="flipDetailedResultsVisibilityAndNavigate()" type="button" class="btn btn-block resultsButton"
                    analytics-on="click" analytics-event="Manual Detailed Results Navigation" analytics-category="Detailed Results">
                    <span ng-class="getDetailedResultsHideShowClasses()"></span>{{detailedResultsTextPrefix}}Detailed Results
                </h2>
            </div>
        </div>
    </div>

</div>
